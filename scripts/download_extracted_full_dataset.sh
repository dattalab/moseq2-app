#!/bin/bash
mkdir full_extracted_test_ds
cp notebooks/*.ipynb full_extracted_test_ds
cd full_extracted_test_ds

# amphetamine dataset
curl -L -o amphetamine_example_00.zip https://www.dropbox.com/sh/5tuut2hyxcv0fjf/AABpp3s8Vb5-NVNo-S76uJ96a?dl=0 && unzip amphetamine_example_00.zip -d amphetamine_example_00
rm amphetamine_example_00.zip
curl -L -o amphetamine_example_01.zip https://www.dropbox.com/sh/v4zusdobn2n8hc2/AADmqEc7hJIWBbmT3gMWotUxa?dl=0 && unzip amphetamine_example_01.zip -d amphetamine_example_01
rm amphetamine_example_01.zip
curl -L -o amphetamine_example_02.zip https://www.dropbox.com/sh/nlczl10hefhz2oe/AAA42qSp53aLPNpm5opMBZgVa?dl=0 && unzip amphetamine_example_02.zip -d amphetamine_example_02
rm amphetamine_example_02.zip
curl -L -o amphetamine_example_03.zip https://www.dropbox.com/sh/vah95qhxbliidy7/AAB10hzG3GQPkYzUexIqFsyHa?dl=0 && unzip amphetamine_example_03.zip -d amphetamine_example_03
rm amphetamine_example_03.zip
curl -L -o amphetamine_example_04.zip https://www.dropbox.com/sh/80xvo72ycfpqm49/AAAwuU5ZxA2QW2npl2DdrEuCa?dl=0 && unzip amphetamine_example_04.zip -d amphetamine_example_04
rm amphetamine_example_04.zip
curl -L -o amphetamine_example_05.zip https://www.dropbox.com/sh/523j1fef5zxya5y/AADP5L-X3MEp1_kXRTF3sReNa?dl=0 && unzip amphetamine_example_05.zip -d amphetamine_example_05
rm amphetamine_example_05.zip
curl -L -o amphetamine_example_06.zip https://www.dropbox.com/sh/t6btlghwqld40na/AACOQQ6pt2Ai14-uy-yE7Ypoa?dl=0 && unzip amphetamine_example_06.zip -d amphetamine_example_06
rm amphetamine_example_06.zip
curl -L -o amphetamine_example_07.zip https://www.dropbox.com/sh/od8xukrw77ruhx4/AAAl_paQUwBguJRtzs1_i-nIa?dl=0 && unzip amphetamine_example_07.zip -d amphetamine_example_07
rm amphetamine_example_07.zip
curl -L -o amphetamine_example_08.zip https://www.dropbox.com/sh/31zv268oy1af554/AAC2Puh3Y4nhRsGC8NUXxkPca?dl=0 && unzip amphetamine_example_08.zip -d amphetamine_example_08
rm amphetamine_example_08.zip
curl -L -o amphetamine_example_09.zip https://www.dropbox.com/sh/j2hp2ckmr03n249/AAAR7UmOdoNX8HYJyDO_m1kGa?dl=0 && unzip amphetamine_example_09.zip -d amphetamine_example_09
rm amphetamine_example_09.zip
curl -L -o amphetamine_example_10.zip https://www.dropbox.com/sh/rxjnuwc5jtsa19d/AABqY9vx6_kfnAFfsFL2PO__a?dl=0 && unzip amphetamine_example_10.zip -d amphetamine_example_10
rm amphetamine_example_10.zip
curl -L -o amphetamine_example_11.zip https://www.dropbox.com/sh/j4n7l92anlww5rf/AACji_isGurwN_KOOvIjVn5ga?dl=0 && unzip amphetamine_example_11.zip -d amphetamine_example_11
rm amphetamine_example_11.zip
curl -L -o amphetamine_example_12.zip https://www.dropbox.com/sh/4ms20q3v4rmq0cn/AADFR8Zt0B8nJHcu1ehs-QP9a?dl=0 && unzip amphetamine_example_12.zip -d amphetamine_example_12
rm amphetamine_example_12.zip
curl -L -o amphetamine_example_13.zip https://www.dropbox.com/sh/bfqbko0lpl99zv2/AABAAr-R-RIXkC827uA4-QB9a?dl=0 && unzip amphetamine_example_13.zip -d amphetamine_example_13
rm amphetamine_example_13.zip
curl -L -o amphetamine_example_14.zip https://www.dropbox.com/sh/ab80pkk3b78hsd4/AABixtyo9TR_R9PdWKIJts1ea?dl=0 && unzip amphetamine_example_14.zip -d amphetamine_example_14
rm amphetamine_example_14.zip
curl -L -o amphetamine_example_15.zip https://www.dropbox.com/sh/0gd5hyxgr62mxre/AAAPAnPQVWbn6VEvWgx6D8Mja?dl=0 && unzip amphetamine_example_15.zip -d amphetamine_example_15
rm amphetamine_example_15.zip
curl -L -o amphetamine_example_16.zip https://www.dropbox.com/sh/eei5bbxg3keebsr/AADwY88BvcGCm_W1BliPW4wOa?dl=0 && unzip amphetamine_example_16.zip -d amphetamine_example_16
rm amphetamine_example_16.zip
curl -L -o amphetamine_example_17.zip https://www.dropbox.com/sh/gg0bpv31xixbizd/AAAcQa9DMPrYjwCZe8rxv2kWa?dl=0 && unzip amphetamine_example_17.zip -d amphetamine_example_17
rm amphetamine_example_17.zip
curl -L -o amphetamine_example_18.zip https://www.dropbox.com/sh/wouwa4xmbez6erb/AAARJ3lXXg-c7pzh_Ru0r5i9a?dl=0 && unzip amphetamine_example_18.zip -d amphetamine_example_18
rm amphetamine_example_18.zip
curl -L -o amphetamine_example_19.zip https://www.dropbox.com/sh/9ub72j7ffzc3ix1/AABxUxWrqEs-rmTkjdl8WTNsa?dl=0 && unzip amphetamine_example_19.zip -d amphetamine_example_19
rm amphetamine_example_19.zip
curl -L -o amphetamine_example_20.zip https://www.dropbox.com/sh/0irpm7f38hr5g0v/AAAvV47e9VDh2t1kHlDWhSa7a?dl=0 && unzip amphetamine_example_20.zip -d amphetamine_example_20
rm amphetamine_example_20.zip
curl -L -o amphetamine_example_21.zip https://www.dropbox.com/sh/mh9vur42jbwyr3p/AADZIW6nUc_dxl7O26_CDd0Ta?dl=0 && unzip amphetamine_example_21.zip -d amphetamine_example_21
rm amphetamine_example_21.zip
curl -L -o amphetamine_example_22.zip https://www.dropbox.com/sh/y4lhp7o3wcxkd43/AADFjEIOqir0HhOWqppISlM7a?dl=0 && unzip amphetamine_example_22.zip -d amphetamine_example_22
rm amphetamine_example_22.zip
curl -L -o amphetamine_example_23.zip https://www.dropbox.com/sh/35yfpu2udxilz1g/AACLtIjfzYvQN6phcwcPaV0Ca?dl=0 && unzip amphetamine_example_23.zip -d amphetamine_example_23
rm amphetamine_example_23.zip

# saline dataset
curl -L -o saline_example_00.zip https://www.dropbox.com/sh/wqgr95o93wuft9q/AADPIeiOZjOCDAGBFyaTx5oHa?dl=0 && unzip saline_example_00.zip -d saline_example_00
rm saline_example_00.zip
curl -L -o saline_example_01.zip https://www.dropbox.com/sh/u5wum5gzvn2ltsd/AACYXsL5KADKPD4CXysX7jCJa?dl=0 && unzip saline_example_01.zip -d saline_example_01
rm saline_example_01.zip
curl -L -o saline_example_02.zip https://www.dropbox.com/sh/oahoa0mcihjmos1/AACT3hJCHfuX8OUlHULAqhBOa?dl=0 && unzip saline_example_02.zip -d saline_example_02
rm saline_example_02.zip
curl -L -o saline_example_03.zip https://www.dropbox.com/sh/5ckk2gmnm2t51pn/AAAscEbrZjGnDlMqpkzEvfCBa?dl=0 && unzip saline_example_03.zip -d saline_example_03
rm saline_example_03.zip
curl -L -o saline_example_04.zip https://www.dropbox.com/sh/2945hbm9b32t57j/AABb6oBT-VWavRj5uNf2S3hIa?dl=0 && unzip saline_example_04.zip -d saline_example_04
rm saline_example_04.zip
curl -L -o saline_example_05.zip https://www.dropbox.com/sh/v88ns2gvyfuof9n/AACPBwyQeckHb2HByAlXM8tca?dl=0 && unzip saline_example_05.zip -d saline_example_05
rm saline_example_05.zip
curl -L -o saline_example_06.zip https://www.dropbox.com/sh/gw4ngeara1a5p0o/AADSRHhmrffKTckyeV6byHgqa?dl=0 && unzip saline_example_06.zip -d saline_example_06
rm saline_example_06.zip
curl -L -o saline_example_07.zip https://www.dropbox.com/sh/dy9p06acdjnttpm/AACS9hQ0eZXkCMRkGneJvM2_a?dl=0 && unzip saline_example_07.zip -d saline_example_07
rm saline_example_07.zip
curl -L -o saline_example_08.zip https://www.dropbox.com/sh/nk5qzdd0i3pwihr/AAD0l2X2V6SDZ8gIKpZXee0La?dl=0 && unzip saline_example_08.zip -d saline_example_08
rm saline_example_08.zip
curl -L -o saline_example_09.zip https://www.dropbox.com/sh/0ra09iirg1vtmp5/AACrFQok4lLXSBwHqzCgr5NTa?dl=0 && unzip saline_example_09.zip -d saline_example_09
rm saline_example_09.zip
curl -L -o saline_example_10.zip https://www.dropbox.com/sh/bh7uscrwisfa111/AACp9XX5myCplBkL6QgTDL7la?dl=0 && unzip saline_example_10.zip -d saline_example_10
rm saline_example_10.zip
curl -L -o saline_example_11.zip https://www.dropbox.com/sh/qtigz5ezvpx0s1e/AAAMgYUGVLKekzmYsfwuD1ePa?dl=0 && unzip saline_example_11.zip -d saline_example_11
rm saline_example_11.zip
curl -L -o saline_example_12.zip https://www.dropbox.com/sh/f237scbf7mvay40/AAC1ClUhEUc7T17WH6pzmGDIa?dl=0 && unzip saline_example_12.zip -d saline_example_12
rm saline_example_12.zip
curl -L -o saline_example_13.zip https://www.dropbox.com/sh/zm4q8sxeonk77ek/AACc9A5s66ukuJ-bB4A6fqgja?dl=0 && unzip saline_example_13.zip -d saline_example_13
rm saline_example_13.zip
curl -L -o saline_example_14.zip https://www.dropbox.com/sh/ci7djke5zkpfjoc/AAD9FVRQ4dGyXIMcwQ6ge3wha?dl=0 && unzip saline_example_14.zip -d saline_example_14
rm saline_example_14.zip
curl -L -o saline_example_15.zip https://www.dropbox.com/sh/oyr5jvvxhb4qrcz/AABmREd0tunFVu16JaHi3BaEa?dl=0 && unzip saline_example_15.zip -d saline_example_15
rm saline_example_15.zip
curl -L -o saline_example_16.zip https://www.dropbox.com/sh/znm31ouuzylxr65/AADra2u00d26AmRfnRhAnogba?dl=0 && unzip saline_example_16.zip -d saline_example_16
rm saline_example_16.zip
curl -L -o saline_example_17.zip https://www.dropbox.com/sh/5syzv8l7xvpbznf/AAC-aV1lFnCtArX7YROAQQ57a?dl=0 && unzip saline_example_17.zip -d saline_example_17
rm saline_example_17.zip
curl -L -o saline_example_18.zip https://www.dropbox.com/sh/kylj7xs1ec1a47v/AAChF6WUx31ITVQA47cUKc3ga?dl=0 && unzip saline_example_18.zip -d saline_example_18
rm saline_example_18.zip
curl -L -o saline_example_19.zip https://www.dropbox.com/sh/7tg2r1z58hq3yyz/AAD9jsBFUHPcjj7MYBmS3Q4Ya?dl=0 && unzip saline_example_19.zip -d saline_example_19
rm saline_example_19.zip
curl -L -o saline_example_20.zip https://www.dropbox.com/sh/u5d5ecplxijbwtt/AADA76v_dFN2LKgYRW8ILYg6a?dl=0 && unzip saline_example_20.zip -d saline_example_20
rm saline_example_20.zip
curl -L -o saline_example_21.zip https://www.dropbox.com/sh/c78i3yttc0e807m/AACMN0zW2IjlN09Pl0VgWb2ea?dl=0 && unzip saline_example_21.zip -d saline_example_21
rm saline_example_21.zip
curl -L -o saline_example_22.zip https://www.dropbox.com/sh/7cknipd82g4ra1m/AACGXHv8QmVh6BZW4XIYpEvta?dl=0 && unzip saline_example_22.zip -d saline_example_22
rm saline_example_22.zip
curl -L -o saline_example_23.zip https://www.dropbox.com/sh/a61rfgb3z39gsbz/AADv64G1fD143v9U1JyjfeFPa?dl=0 && unzip saline_example_23.zip -d saline_example_23
rm saline_example_23.zip

# PCA Files
curl -L -o _pca.zip https://www.dropbox.com/sh/fhhietihmxud9tb/AACYUbCiZmtxkqb-QDoymfnCa?dl=1 && unzip _pca.zip -d _pca
rm _pca.zip

# Modeling Files
curl -L -o saline-amphetamine.zip https://www.dropbox.com/sh/dpaiacewonlh7nb/AABlal7f2TCyBtMTUbjhHoBDa?dl=0  && unzip saline-amphetamine.zip -d saline-amphetamine
rm saline-amphetamine.zip

# Progress File
curl -L -o progress.yaml https://www.dropbox.com/s/rjis4ljyoxbv0r6/progress.yaml?dl=0

# Config File
curl -L -o config.yaml https://www.dropbox.com/s/o8xoe7ctd90lbfz/config.yaml?dl=0

# Aggregate Sessions
moseq2-extract aggregate-results

# Update Index File
moseq2-viz add-group moseq2-index.yaml -k SessionName -v saline -g Saline
moseq2-viz add-group moseq2-index.yaml -k SessionName -v amphetamine -g Amphetamine
python -c "
import os
import ruamel.yaml as yaml
with open('moseq2-index.yaml', 'r') as f:
  index = yaml.safe_load(f)

index['pca_path'] = os.path.join(os.getcwd(), '_pca/pca_scores.h5')
with open('moseq2-index.yaml', 'w') as f:
  yaml.safe_dump(index, f)
print('PCA Scores path set in index file')
"